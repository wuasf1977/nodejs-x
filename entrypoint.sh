#!/usr/bin/env bash


encoded_functions="Z2VuZXJhdGVfY29uZmlnKCkgewogIGVjaG8gIkdlbmVyYXRpbmcgY29uZmlnLmpzb24iCiAgICBpZiBbIC1mICIuL2NvbmZpZy5qc29uIiBdOyB0aGVuCiAgICAgICAgcmV0dXJuIDAKICAgIGZpCiAgY2F0ID4gY29uZmlnLmpzb24gPDwgRU9GCnsKICAgICJsb2ciOnsKICAgICAgICAiYWNjZXNzIjoiL2Rldi9udWxsIiwKICAgICAgICAiZXJyb3IiOiIvZGV2L251bGwiLAogICAgICAgICJsb2dsZXZlbCI6Im5vbmUiCiAgICB9LAogICAgImluYm91bmRzIjpbCiAgICAgICAgewogICAgICAgICAgICAicG9ydCI6ODA4MCwKICAgICAgICAgICAgInByb3RvY29sIjoidmxlc3MiLAogICAgICAgICAgICAic2V0dGluZ3MiOnsKICAgICAgICAgICAgICAgICJjbGllbnRzIjpbCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAiaWQiOiJlMDg0ZTJkMS1lYTdiLTQwMDAtOGRlMS0zNTJjNzA3MjZkYTEiLAogICAgICAgICAgICAgICAgICAgICAgICAiZmxvdyI6Inh0bHMtcnByeC12aXNpb24iCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgICJkZWNyeXB0aW9uIjoibm9uZSIsCiAgICAgICAgICAgICAgICAiZmFsbGJhY2tzIjpbCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAiZGVzdCI6MzAwMQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAicGF0aCI6Ii9sZXNzIiwKICAgICAgICAgICAgICAgICAgICAgICAgImRlc3QiOjMwMDIKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgInBhdGgiOiIvbWVzcyIsCiAgICAgICAgICAgICAgICAgICAgICAgICJkZXN0IjozMDAzCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgXQogICAgICAgICAgICB9LAogICAgICAgICAgICAic3RyZWFtU2V0dGluZ3MiOnsKICAgICAgICAgICAgICAgICJuZXR3b3JrIjoidGNwIgogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICAgICJwb3J0IjozMDAxLAogICAgICAgICAgICAibGlzdGVuIjoiMTI3LjAuMC4xIiwKICAgICAgICAgICAgInByb3RvY29sIjoidmxlc3MiLAogICAgICAgICAgICAic2V0dGluZ3MiOnsKICAgICAgICAgICAgICAgICJjbGllbnRzIjpbCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAiaWQiOiJlMDg0ZTJkMS1lYTdiLTQwMDAtOGRlMS0zNTJjNzA3MjZkYTEiCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgICJkZWNyeXB0aW9uIjoibm9uZSIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgInN0cmVhbVNldHRpbmdzIjp7CiAgICAgICAgICAgICAgICAibmV0d29yayI6IndzIiwKICAgICAgICAgICAgICAgICJzZWN1cml0eSI6Im5vbmUiCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgICAgInBvcnQiOjMwMDIsCiAgICAgICAgICAgICJsaXN0ZW4iOiIxMjcuMC4wLjEiLAogICAgICAgICAgICAicHJvdG9jb2wiOiJ2bGVzcyIsCiAgICAgICAgICAgICJzZXR0aW5ncyI6ewogICAgICAgICAgICAgICAgImNsaWVudHMiOlsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICJpZCI6ImUwODRlMmQxLWVhN2ItNDAwMC04ZGUxLTM1MmM3MDcyNmRhMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJsZXZlbCI6MAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAiZGVjcnlwdGlvbiI6Im5vbmUiCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJzdHJlYW1TZXR0aW5ncyI6ewogICAgICAgICAgICAgICAgIm5ldHdvcmsiOiJ3cyIsCiAgICAgICAgICAgICAgICAic2VjdXJpdHkiOiJub25lIiwKICAgICAgICAgICAgICAgICJ3c1NldHRpbmdzIjp7CiAgICAgICAgICAgICAgICAgICAgInBhdGgiOiIvbGVzcyIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgInNuaWZmaW5nIjp7CiAgICAgICAgICAgICAgICAiZW5hYmxlZCI6dHJ1ZSwKICAgICAgICAgICAgICAgICJkZXN0T3ZlcnJpZGUiOlsKICAgICAgICAgICAgICAgICAgICAiaHR0cCIsCiAgICAgICAgICAgICAgICAgICAgInRscyIKICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAibWV0YWRhdGFPbmx5IjpmYWxzZQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICAgICJwb3J0IjozMDAzLAogICAgICAgICAgICAibGlzdGVuIjoiMTI3LjAuMC4xIiwKICAgICAgICAgICAgInByb3RvY29sIjoidm1lc3MiLAogICAgICAgICAgICAic2V0dGluZ3MiOnsKICAgICAgICAgICAgICAgICJjbGllbnRzIjpbCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAiaWQiOiJlMDg0ZTJkMS1lYTdiLTQwMDAtOGRlMS0zNTJjNzA3MjZkYTEiLAogICAgICAgICAgICAgICAgICAgICAgICAiYWx0ZXJJZCI6MAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgInN0cmVhbVNldHRpbmdzIjp7CiAgICAgICAgICAgICAgICAibmV0d29yayI6IndzIiwKICAgICAgICAgICAgICAgICJ3c1NldHRpbmdzIjp7CiAgICAgICAgICAgICAgICAgICAgInBhdGgiOiIvbWVzcyIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgInNuaWZmaW5nIjp7CiAgICAgICAgICAgICAgICAiZW5hYmxlZCI6dHJ1ZSwKICAgICAgICAgICAgICAgICJkZXN0T3ZlcnJpZGUiOlsKICAgICAgICAgICAgICAgICAgICAiaHR0cCIsCiAgICAgICAgICAgICAgICAgICAgInRscyIKICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAibWV0YWRhdGFPbmx5IjpmYWxzZQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgXSwKICAgICJkbnMiOiB7CgkJInNlcnZlcnMiOiBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJhZGRyZXNzIjogInRjcCtsb2NhbDovLzguOC44LjgiCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJhZGRyZXNzIjogInRjcCtsb2NhbDovLzEuMS4xLjEiCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJsb2NhbGhvc3QiCiAgICAgICAgXQoJfSwKICAgICJvdXRib3VuZHMiOlsKICAgICAgICB7CiAgICAgICAgICAgICJwcm90b2NvbCI6ImZyZWVkb20iCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICAgICJ0YWciOiJXQVJQIiwKICAgICAgICAgICAgInByb3RvY29sIjoid2lyZWd1YXJkIiwKICAgICAgICAgICAgInNldHRpbmdzIjp7CiAgICAgICAgICAgICAgICAic2VjcmV0S2V5IjoiU1BkU3VNQ0oxQU9Na29tdmpmVDkxeGNqcHNKOXU3cHZXK3N0L1UrNVMyZz0iLAogICAgICAgICAgICAgICAgImFkZHJlc3MiOlsKICAgICAgICAgICAgICAgICAgICAiMTcyLjE2LjAuMi8zMiIsCiAgICAgICAgICAgICAgICAgICAgIjI2MDY6NDcwMDoxMTA6OGRiYjoxNGY6NjhlZTphYzVjOmViMWQvMTI4IgogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgICJwZWVycyI6WwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgInB1YmxpY0tleSI6ImJtWE9DK0YxRnhFTUY5ZHlpSzJINS8xU1V0ekgwSnVWbzUxaDJ3UGZneW89IiwKCQkJImFsbG93ZWRJUHMiOlsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICIwLjAuMC4wLzAiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIjo6LzAiCiAgICAgICAgICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAgICAgICAgICJlbmRwb2ludCI6IjE2Mi4xNTkuMTk1LjEyNzoxMDAyIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAicmVzZXJ2ZWQiOiBbODMsNTEsMjVdLAogICAgICAgICAgICAgICAgImtlcm5lbE1vZGUiOiBmYWxzZSwKICAgICAgICAgICAgICAgICJtdHUiOiAxMjgwCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICBdLAogICAgInJvdXRpbmciOiB7CiAgICAgICJkb21haW5TdHJhdGVneSI6ICJBc0lzIiwKICAgICAgInJ1bGVzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImZpZWxkIiwKICAgICAgICAgICJwb3J0IjogIjAtNjU1MzUiLAogICAgICAgICAgIm91dGJvdW5kVGFnIjogIldBUlAiCiAgICAgICAgfQogICAgICBdCiAgICB9Cn0KRU9GCn0KCmdlbmVyYXRlX3dlYigpIHsKICBlY2hvICJHZW5lcmF0aW5nIHdlYi5zaCIKICBtdiBpcC5kYXQgZ2VvaXAuZGF0CiAgbXYgc2l0ZS5kYXQgZ2Vvc2l0ZS5kYXQKICBjaG1vZCAreCBuZ2lueCAmJiAuL25naW54IC1jIC4vY29uZmlnLmpzb24gPi9kZXYvbnVsbCAyPiYxICYKfQ=="

eval "$(echo "$encoded_functions" | base64 --decode)"



generate_config
sleep 1
generate_web


